!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}i(3),i(7),i(8),i(10);var r=i(11),o=n(r);window.SelectorHelper=function(){function e(e){var t=e.features,i="";return t.forEach(function(e){e.selected&&(i+=e.name)}),""===i?e.tag:i}function t(e,t){var i="",n=null;return e.forEach(function(e,r){if(!(t>=0&&r>t))if(e.invalid)n=null;else if(e.selected){n&&(i+=" >");var o="";e.features.forEach(function(e){e.selected&&(o+=e.pattern)}),""===o&&(o="*"),i+=" "+o,n=e}else n=null}),""===i&&(i="*"),i.trim()}function i(e){l=e,a.heightlight(t(e))}function n(t){s.find(".element").remove();var n=[];$.each(t,function(r,o){var s=$("<span>").addClass("element").data("info",o);$('<span class="element-name">').text(o.name).appendTo(s),o.selected&&s.addClass("selected"),o.invalid&&s.addClass("invalid");var l=$("<ul>");$.each(o.features,function(n,r){var s=$("<li>").text(r.name).data("feature",r);r.selected&&s.addClass("selected"),s.appendTo(l),s.on("click",function(n){n.stopPropagation();var r=$(this),s=r.data("feature");s.selected?(s.selected=!1,r.removeClass("selected")):(s.selected=!0,r.addClass("selected"));var a=r.parents(".element");o.selected||(o.selected=!0,a.addClass("selected")),a.find(".element-name").text(e(o)),i(t)})}),l.appendTo(s),s.on("mouseover",function(e){var i=[];$.each(t,function(e,t){if(i.push(t.xpath),t===o)return!1}),a.overlay(a.getElementByXpath("/"+i.join("/")))}),s.on("click",function(n){n.stopPropagation();var r=$(this),o=r.data("info");o.selected?(o.selected=!1,r.removeClass("selected")):(o.selected=!0,r.addClass("selected")),r.find(".element-name").text(e(r.data("info"))),i(t)}),n.push(s)}),s.prepend(n),r(),i(t)}function r(){for(;s[0].scrollWidth>s.width();){var e=s.find(".element:visible:first");if(0==e.length)return;e.addClass("invalid").data("info").invalid=!0}}var s=$("#css-selector-helper"),a=null,l=null,c=$("#tab-web");return{init:function(){var e=this,i=this;i.clear(),$("#J-enable-css-selector-helper").on("click",function(t){e.clear(),a=new o.default($("#tab-web iframe")[0].contentWindow),a.on("selector_helper_click",function(e){n(e)}),e.enable()}),$("#task-panel").on("scroll",function(e){s.is(":visible")&&($("#debug-tabs").position().top<0?(s.addClass("fixed"),c.addClass("fixed")):(s.removeClass("fixed"),c.removeClass("fixed")))});var r=s.find(".copy-selector-input");r.on("focus",function(e){$(this).select()}),s.find(".copy-selector").on("click",function(e){l&&(r.is(":visible")?(r.hide(),s.find(".element").show()):(s.find(".element").hide(),r.val(t(l)).show()))}),s.find(".add-to-editor").on("click",function(e){Debugger.python_editor_replace_selection(t(l))})},clear:function(){l=null,s.hide(),s.removeClass("fixed"),c.removeClass("fixed"),s.find(".element").remove()},enable:function(){s.show(),s.find(".copy-selector-input").hide(),$("#debug-tabs").position().top<0?(s.addClass("fixed"),c.addClass("fixed")):(s.removeClass("fixed"),c.removeClass("fixed"))}}}(),window.Debugger=function(){function e(e){return t.text(e).html()}var t=$("<div>");return{init:function(){this.splitter=$(".debug-panel:not(:first)").splitter().data("splitter").trigger("init").on("resize-start",function(){$("#left-area .overlay").show()}).on("resize-end",function(){$("#left-area .overlay").hide()}),$("#task-panel").height("100%").width("100%").split({orientation:"horizontal",limit:50,position:"40%"}),$("#debug-tabs").height("100%").width("100%").split({orientation:"horizontal",limit:50,position:"40%"}),CodeMirror.keyMap.basic.Tab="indentMore",this.init_python_editor($("#python-editor")),this.init_task_editor($("#task-editor")),this.bind_debug_tabs(),this.bind_run(),this.bind_save(),this.bind_others(),SelectorHelper.init()},not_saved:!1,init_python_editor:function(e){var t=this;this.python_editor_elem=e;var i=this.python_editor=CodeMirror(e[0],{value:script_content,mode:"python",lineNumbers:!0,indentUnit:4,lineWrapping:!0,styleActiveLine:!0,autofocus:!0});i.on("focus",function(){e.addClass("focus")}),i.on("blur",function(){e.removeClass("focus")}),i.on("change",function(){t.not_saved=!0}),window.addEventListener("beforeunload",function(e){if(t.not_saved){var i="You have not saved changes.";return(e||window.event).returnValue=i,i}})},python_editor_replace_selection:function(e){this.python_editor.getDoc().replaceSelection(e)},auto_format:function(e){var t=e.getCursor(!0);CodeMirror.commands.selectAll(e),e.autoFormatRange(e.getCursor(!0),e.getCursor(!1)),e.setCursor(t)},format_string:function(e,t){var i=document.createElement("div"),n=CodeMirror(i,{value:e,mode:t});return this.auto_format(n),n.getDoc().getValue()},init_task_editor:function(e){var t=this.task_editor=CodeMirror(e[0],{value:task_content,mode:"application/json",indentUnit:2,lineWrapping:!0,styleActiveLine:!0,lint:!0});this.auto_format(t),t.getDoc().clearHistory(),t.on("focus",function(){e.addClass("focus")}),t.on("blur",function(){e.removeClass("focus")})},bind_debug_tabs:function(){var t=this;$("#tab-control > li[data-id]").on("click",function(){$("#tab-control > li[data-id]").removeClass("active");var e=$(this).addClass("active").data("id");$("#debug-tabs .tab").hide(),$("#debug-tabs #"+e).show()}),$("#tab-control li[data-id=tab-html]").on("click",function(){if(!$("#tab-html").data("format")){var i="";CodeMirror.runMode(t.format_string($("#tab-html pre").text(),"text/html"),"text/html",function(t,n){i+=n?'<span class="cm-'+n+'">'+e(t)+"</span>":e(t)}),$("#tab-html pre").html(i),$("#tab-html").data("format",!0)}})},bind_run:function(){var e=this;$("#run-task-btn").on("click",function(){e.run()}),$("#undo-btn").on("click",function(t){e.task_editor.execCommand("undo")}),$("#redo-btn").on("click",function(t){e.task_editor.execCommand("redo")})},bind_save:function(){var e=this;$("#save-task-btn").on("click",function(){var t=e.python_editor.getDoc().getValue();$("#right-area .overlay").show(),$.ajax({type:"POST",url:location.pathname+"/save",data:{script:t},success:function(t){console.log(t),e.python_log(""),e.python_log("saved!"),e.not_saved=!1,$("#right-area .overlay").hide()},error:function(t,i,n){console.log(t,i,n),e.python_log("save error!\n"+t.responseText),$("#right-area .overlay").hide()}})})},bind_follows:function(){var e=this;$(".newtask").on("click",function(){if($(this).next().hasClass("task-show"))return void $(this).next().remove();var e=$(this).after('<div class="task-show"><pre class="cm-s-default"></pre></div>').data("task");e=JSON.stringify(window.newtasks[e],null,"  "),CodeMirror.runMode(e,"application/json",$(this).next().find("pre")[0])}),$(".newtask .task-run").on("click",function(t){t.preventDefault(),t.stopPropagation();var i=$(this).parents(".newtask").data("task"),n=window.newtasks[i];e.task_editor.setValue(JSON.stringify(n,null,"  ")),e.task_updated(n),e.run()})},task_updated:function(e){$("#history-wrap").hide(),e.project&&e.taskid&&$.ajax({url:"/task/"+e.project+":"+e.taskid+".json",success:function(t){t.code||t.error||($("#history-link").attr("href","/task/"+e.project+":"+e.taskid).text("status: "+t.status_string),$("#history-wrap").show())}})},bind_others:function(){var e=this;$("#python-log-show").on("click",function(){$("#python-log pre").is(":visible")?($("#python-log pre").hide(),$(this).height(8)):($("#python-log pre").show(),$(this).height(0))}),$(".webdav-btn").on("click",function(){e.toggle_webdav_mode(this)})},render_html:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];void 0===e&&(e="");var r=(new DOMParser).parseFromString(e,"text/html");return $(r).find("base").remove(),$(r).find("head").prepend("<base>"),$(r).find("base").attr("href",t),i&&$(r).find("script").attr("type","text/plain"),n&&$(r).find("iframe[src]").each(function(e,t){t=$(t),t.attr("__src",t.attr("src")),t.attr("src",encodeURI("data:text/html;,<h1>iframe blocked</h1>"))}),r.documentElement.innerHTML},run:function(){var e=this.python_editor.getDoc().getValue(),t=this.task_editor.getDoc().getValue(),i=this;SelectorHelper.clear(),$("#tab-web .iframe-box").html(""),$("#tab-html pre").html(""),$("#tab-follows").html(""),$("#tab-control li[data-id=tab-follows] .num").hide(),$("#python-log").hide(),$("#left-area .overlay").show(),$.ajax({type:"POST",url:location.pathname+"/run",data:{webdav_mode:i.webdav_mode,script:i.webdav_mode?"":e,task:t},success:function(e){console.log(e),$("#left-area .overlay").hide(),$("#tab-web .iframe-box").html('<iframe src="/blank.html" sandbox="allow-same-origin allow-scripts"></iframe>');var t=$("#tab-web iframe")[0],n=e.fetch_result.headers&&e.fetch_result.headers["Content-Type"]&&e.fetch_result.headers["Content-Type"]||"text/plain";$("#tab-html pre").text(e.fetch_result.content),$("#tab-html").data("format",!0);var r=null;if(0==n.indexOf("application/json"))try{var o=JSON.parse(e.fetch_result.content);o=JSON.stringify(o,null,"  "),o="<html><pre>"+o+"</pre></html>",r=i.render_html(o,e.fetch_result.url,!0,!0,!1)}catch(e){r="data:,Content-Type:"+n+" parse error."}else 0==n.indexOf("text/html")?($("#tab-html").data("format",!1),r=i.render_html(e.fetch_result.content,e.fetch_result.url,!0,!0,!1)):r=0==n.indexOf("text")?"data:"+n+","+e.fetch_result.content:e.fetch_result.dataurl?e.fetch_result.dataurl:"data:,Content-Type:"+n;var s=t.contentDocument;s.open("text/html","replace"),s.write(r),s.close(),s.onreadystatechange=function(){"complete"===s.readyState},$("#tab-follows").html("");var a=$("#tab-control li[data-id=tab-follows] .num"),l='<div class="newtask" data-task="__task__"><span class="task-callback">__callback__</span> &gt; <span class="task-url">__url__</span><div class="task-run"><i class="fa fa-play"></i></div><div class="task-more"> <i class="fa fa-ellipsis-h"></i> </div></div>';if(e.follows.length>0){a.text(e.follows.length).show();var c="";window.newtasks={},$.each(e.follows,function(e,t){var i=t.process;i=i&&i.callback||"__call__";var n=l.replace("__callback__",i);n=n.replace("__url__",t.url||'<span class="error">no_url!</span>'),c+=n.replace("__task__",e),window.newtasks[e]=t}),$("#tab-follows").append(c),i.bind_follows()}else a.hide();if($("#tab-messages pre").html(""),e.messages.length>0){$("#tab-control li[data-id=tab-messages] .num").text(e.messages.length).show();var d=JSON.stringify(e.messages,null,"  ");CodeMirror.runMode(d,"application/json",$("#tab-messages pre")[0]),$("#tab-messages")[0]}else $("#tab-control li[data-id=tab-messages] .num").hide();$("#tab-control li.active").click(),i.python_log(e.logs)},error:function(e,t,n){console.log(e,t,n),i.python_log("error: "+t),$("#left-area .overlay").hide()}})},python_log:function(e){e?($("#python-log pre").text(e),$("#python-log pre, #python-log").show(),$("#python-log-show").height(0)):$("#python-log pre, #python-log").hide()},webdav_mode:!1,toggle_webdav_mode:function(e){if(this.webdav_mode){var t=this;$.ajax({type:"GET",url:location.pathname+"/get",success:function(i){t.splitter.trigger("init"),t.python_editor_elem.show(),t.python_editor.setValue(i.script),t.not_saved=!1,$(e).removeClass("active"),t.webdav_mode=!t.webdav_mode},error:function(){alert("Loading script from database error. Script may out-of-date."),t.python_editor_elem.show(),t.splitter.trigger("init"),$(e).removeClass("active"),t.webdav_mode=!t.webdav_mode}})}else{if(this.not_saved){if(!confirm("You have not saved changes. Ignore changes and switch to WebDav mode."))return;this.not_saved=!1}this.python_editor_elem.hide(),this.splitter.trigger("fullsize","prev"),$(e).addClass("active"),this.webdav_mode=!this.webdav_mode}}}}(),Debugger.init()},,,function(e,t){},,,,function(e,t){"use strict";$.fn.splitter=function(e){var t=$(document),i=$('<div class="block"></div>'),n=$("body"),r=JSON.parse(localStorage.getItem("splitterSettings")||"[]");return this.each(function(){function o(e){"y"===u&&(e-=m);var i=e-g[u].currentPos,n=100/g[u].size*i,s=(e-b[u])*g[u].multiplier,l=h[g[u].sizeProp](),d=a[g[u].sizeProp]();if("y"===u&&(n=100-n),l<100&&s<0);else if(d<100&&s>0);else{a.css(g[u].cssProp,n+"%"),h.css(g[u].otherCssProp,100-n+"%");var p={};p[g[u].cssProp]=n+"%",f.css(p),b[u]=e,r[c]=b,localStorage.setItem("splitterSettings",JSON.stringify(r)),o.timer&&clearTimeout(o.timer),o.timer=setTimeout(function(){t.trigger("sizeeditors")},120)}}function s(){h="x"===u?f.prevAll(":visible:first"):f.nextAll(":visible:first")}var a=$(this),l=$(this),c=$.fn.splitter.guid++,d=a.parent(),u=e||"x",h="x"===u?a.prevAll(":visible:first"):a.nextAll(":visible:first"),f=$('<div class="resize"></div>'),p=!1,v=(d.width(),d.offset()),m=(v.left,v.top),g={x:{display:"block",currentPos:d.offset().left,multiplier:1,cssProp:"left",otherCssProp:"right",size:d.width(),sizeProp:"width",moveProp:"pageX",init:{top:0,bottom:0,width:8,"margin-left":"-4px",height:"100%",left:"auto",right:"auto",opacity:0,position:"absolute",cursor:"ew-resize","border-left":"1px solid rgba(218, 218, 218, 0.5)","z-index":99999}},y:{display:"block",currentPos:d.offset().top,multiplier:-1,size:d.height(),cssProp:"bottom",otherCssProp:"top",sizeProp:"height",moveProp:"pageY",init:{top:"auto",cursor:"ns-resize",bottom:"auto",height:8,width:"100%",left:0,right:0,opacity:0,position:"absolute",border:0,"z-index":99999}}},b=r[c]||{},_={down:{x:null,y:null},delta:{x:null,y:null},track:!1,timer:null};f.bind("mousedown",function(e){_.down.x=e.pageX,_.down.y=e.pageY,_.delta={x:null,y:null},_.target=.25*f["x"==u?"height":"width"]()}),t.bind("mousemove",function(e){p&&(_.delta.x=_.down.x-e.pageX,_.delta.y=_.down.y-e.pageY,clearTimeout(_.timer),_.timer=setTimeout(function(){_.down.x=e.pageX,_.down.y=e.pageY},250))}),t.bind("mouseup touchend",function(){p&&(p=!1,f.trigger("resize-end"),i.remove(),n.removeClass("dragging"))}).bind("mousemove touchmove",function(e){p&&o(e[g[u].moveProp]||e.originalEvent.touches[0][g[u].moveProp])}),i.bind("mousemove touchmove",function(e){p&&o(e[g[u].moveProp]||e.originalEvent.touches[0][g[u].moveProp])}),f.bind("mousedown touchstart",function(e){p=!0,f.trigger("resize-start"),n.append(i).addClass("dragging"),g[u].size=d[g[u].sizeProp](),g[u].currentPos=0,s(),e.preventDefault()}),f.bind("fullsize",function(e,t){void 0===t&&(t="prev");var i=0;"prev"===t&&(i=100),a.css(g[u].cssProp,i+"%"),h.css(g[u].otherCssProp,100-i+"%"),f.hide()}),f.bind("init",function(e,t){f.css(g[u].init),g[u].size=d[g[u].sizeProp](),s(),m=d.offset().top,i.css("cursor","x"==u?"ew-resize":"ns-resize"),"y"==u?(a.css("border-right",0),h.css("border-left",0),h.css("border-top","2px solid #ccc")):a.css("border-top",0),a.is(":hidden")?f.hide():(h.length?a.css("border-"+g[u].cssProp,"1px solid #ccc"):a.css("border-"+g[u].cssProp,"0"),o(void 0!==t?t:b[u]||a.offset()[g[u].cssProp]))}),f.bind("change",function(e,t,i){a.css(g[u].cssProp,"0"),h.css(g[u].otherCssProp,"0"),a.css("border-"+g[u].cssProp,"0"),"y"===t?(a=a.find("> *"),f.appendTo(h),a.appendTo(h),h.css("height","100%"),l.hide(),f.css("margin-left",0),f.css("margin-top",5),f.addClass("vertical"),delete b.x,l.nextAll(":visible:first").trigger("init")):(a=h,h=n,a.appendTo(l),f.insertBefore(l),f.removeClass("vertical"),a.css("border-top",0),a=l,l.show(),f.css("margin-top",0),f.css("margin-left",-4),delete b.y,setTimeout(function(){l.nextAll(":visible:first").trigger("init")},0)),s(),u=t;var n=a;if(a=h,h=n,a.css(g[u].otherCssProp,"0"),h.css(g[u].cssProp,"0"),a.is(":visible")){if("y"===u){var r=a.find(".resize");r.each(function(e){var t=$(this);this===f[0]||t.trigger("init",100/(r-e-1))})}f.trigger("init",i||a.offset()[g[u].cssProp]||g[u].size/2)}}),h.css("width","auto"),h.css("height","auto"),a.data("splitter",f),a.before(f)})},$.fn.splitter.guid=0},function(e,t){},,function(e,t){"use strict";/*!
	 * JQuery Spliter Plugin version 0.27.1
	 * Copyright (C) 2010-2018 Jakub Jankiewicz <http://jcubic.pl/me>
	 *
	 * This program is free software: you can redistribute it and/or modify
	 * it under the terms of the GNU Lesser General Public License as published by
	 * the Free Software Foundation, either version 3 of the License, or
	 * (at your option) any later version.
	 *
	 * This program is distributed in the hope that it will be useful,
	 * but WITHOUT ANY WARRANTY; without even the implied warranty of
	 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	 * GNU Lesser General Public License for more details.
	 *
	 * You should have received a copy of the GNU Lesser General Public License
	 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
	 */
!function(e,t){var i=0,n=null,r=[],o=null;e.fn.split=function(s){function a(e){if("number"==typeof e)return e;if("string"==typeof e){var t=e.match(/^([0-9\.]+)(px|%)$/);if(t){if("px"==t[2])return+t[1];if("vertical"==h.orientation)return v*+t[1]/100;if("horizontal"==h.orientation)return m*+t[1]/100}}}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)?{leftUpper:e,rightBottom:e}:e}var c=this.data("splitter");if(c)return c;var d,u,h=e.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:e.noop,onDragEnd:e.noop,onDrag:e.noop,percent:!1},s||{});this.settings=h;var f,p=this.children();"vertical"==h.orientation?(d=p.first().addClass("left_panel"),u=d.next().addClass("right_panel"),f="vsplitter"):"horizontal"==h.orientation&&(d=p.first().addClass("top_panel"),u=d.next().addClass("bottom_panel"),f="hsplitter"),h.invisible&&(f+=" splitter-invisible");var v=this.width(),m=this.height(),g=i++;this.addClass("splitter_panel");var b,_=e("<div/>").addClass(f).bind("mouseenter touchstart",function(){n=g}).bind("mouseleave touchend",function(){n=null}).insertAfter(d),y=e.extend(this,{refresh:function(){var e=this.width(),t=this.height();v==e&&m==t||(v=this.width(),m=this.height(),y.position(b))},option:function(e,t){return"position"===e?y.position(t):"undefined"==typeof t?h[e]:(h[e]=t,y)},position:function(){return"vertical"==h.orientation?function(e,i){if(e===t)return b;b=a(e);var n,r=_.width(),o=r/2,s=y.width();if(h.invisible)n=d.width(b).outerWidth(),u.width(s-n),_.css("left",n-o);else if(h.percent){var l=(b-o)/s*100;n=d.css("width",l+"%").outerWidth(),u.css("width",(s-n-r)/s*100+"%"),_.css("left",n/s*100+"%")}else n=d.css("width",b-o).outerWidth(),u.width(s-n-r),_.css("left",n);return d.find(".splitter_panel").eq(0).height(y.height()),u.find(".splitter_panel").eq(0).height(y.height()),i||(y.trigger("splitter.resize"),y.find(".splitter_panel").trigger("splitter.resize")),y}:"horizontal"==h.orientation?function(e,i){if(e===t)return b;b=a(e);var n,r=_.height(),o=r/2,s=y.height();if(h.invisible)n=d.height(b).outerHeight(),u.height(s-n),_.css("top",n-o);else if(h.percent){var l=(b-o)/s*100;n=d.css("height",l+"%").outerHeight(),u.css("height",(s-n-r)/s*100+"%"),_.css("top",n/s*100+"%")}else n=d.height(b-o).outerHeight(),u.height(s-n-r),_.css("top",n);return i||(y.trigger("splitter.resize"),y.find(".splitter_panel").trigger("splitter.resize")),y}:e.noop}(),orientation:h.orientation,limit:l(h.limit),isActive:function(){return n===g},destroy:function(){y.removeClass("splitter_panel"),_.unbind("mouseenter"),_.unbind("mouseleave"),_.unbind("touchstart"),_.unbind("touchmove"),_.unbind("touchend"),_.unbind("touchleave"),_.unbind("touchcancel"),"vertical"==h.orientation?(d.removeClass("left_panel"),u.removeClass("right_panel")):"horizontal"==h.orientation&&(d.removeClass("top_panel"),u.removeClass("bottom_panel")),y.unbind("splitter.resize"),y.trigger("splitter.resize"),y.find(".splitter_panel").trigger("splitter.resize"),r[g]=null,i--,_.remove(),y.removeData("splitter");for(var t=!1,n=r.length;n--;)if(null!==r[n]){t=!0;break}t||(e(document.documentElement).unbind(".splitter"),e(window).unbind("resize.splitter"),r=[],i=0)}});y.bind("splitter.resize",function(e){var t=y.position();"vertical"==y.orientation&&t>y.width()?t=y.width()-y.limit.rightBottom-1:"horizontal"==y.orientation&&t>y.height()&&(t=y.height()-y.limit.rightBottom-1),t<y.limit.leftUpper&&(t=y.limit.leftUpper+1),e.stopPropagation(),y.position(t,!0)});var w;"vertical"==h.orientation?w=w>v-h.limit.rightBottom?v-h.limit.rightBottom:a(h.position):"horizontal"==h.orientation&&(w=w>m-h.limit.rightBottom?m-h.limit.rightBottom:a(h.position)),w<h.limit.leftUpper&&(w=h.limit.leftUpper),y.position(w,!0);var $=this.closest(".splitter_panel");return $.length&&this.height($.height()),0===r.filter(Boolean).length&&(e(window).bind("resize.splitter",function(){e.each(r,function(e,t){t&&t.refresh()})}),e(document.documentElement).on("mousedown.splitter touchstart.splitter",function(t){null!==n&&(t.preventDefault(),o=r[n],setTimeout(function(){e('<div class="splitterMask"></div>').css("cursor",o.children().eq(1).css("cursor")).insertAfter(o)}),o.settings.onDragStart(t))}).bind("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.splitter",function(t){o&&(setTimeout(function(){e(".splitterMask").remove()}),o.settings.onDragEnd(t),o=null)}).bind("mousemove.splitter touchmove.splitter",function(e){if(null!==o){var t=(o.limit.leftUpper,o.limit.rightBottom),i=o.offset();if("vertical"==o.orientation){var n=e.pageX;e.originalEvent&&e.originalEvent.changedTouches&&(n=e.originalEvent.changedTouches[0].pageX);var r=n-i.left;r<=o.limit.leftUpper?r=o.limit.leftUpper+1:r>=o.width()-t&&(r=o.width()-t-1),r>o.limit.leftUpper&&r<o.width()-t&&(o.position(r,!0),o.trigger("splitter.resize"),o.find(".splitter_panel").trigger("splitter.resize"))}else if("horizontal"==o.orientation){var s=e.pageY;e.originalEvent&&e.originalEvent.changedTouches&&(s=e.originalEvent.changedTouches[0].pageY);var a=s-i.top;a<=o.limit.leftUpper?a=o.limit.leftUpper+1:a>=o.height()-t&&(a=o.height()-t-1),a>o.limit.leftUpper&&a<o.height()-t&&(o.position(a,!0),o.trigger("splitter.resize"),o.find(".splitter_panel").trigger("splitter.resize"))}o.settings.onDrag(e)}})),r[g]=y,y.data("splitter",y),y}}(jQuery)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function c(e){var t=0,i=0;do isNaN(e.offsetLeft)||(i+=e.offsetLeft),isNaN(e.offsetTop)||(t+=e.offsetTop);while(e=e.offsetParent);return{top:t,left:i}}function d(e){var t="";return e.forEach(function(e){e.selected&&(t+=e.name)}),t}function u(e,t){var i="",n=null;return e.forEach(function(e,r){if(!(t>=0&&r>t))if(e.invalid)n=null;else if(e.selected){n&&(i+=" >");var o="";e.features.forEach(function(e){e.selected&&(o+=e.pattern)}),""===o&&(o="*"),i+=" "+o,n=e}else n=null}),""===i&&(i="*"),i}function h(e,t){var i=[];do{var n=[];if(n.push({name:t.tagName.toLowerCase(),pattern:t.tagName.toLowerCase(),selected:!0}),t.getAttribute("id")&&n.push({name:"#"+t.getAttribute("id"),pattern:"#"+t.getAttribute("id"),selected:!0}),t.classList.length>0)for(var r=0;r<t.classList.length;r++){var o=t.classList[r];n.push({name:"."+o,pattern:"."+o,selected:!0})}for(var s="itemprop",r=0,a=t.attributes;r<a.length;r++)s.indexOf(a[r].nodeName)!=-1&&n.push({name:"["+a[r].nodeName+"="+JSON.stringify(a[r].nodeValue)+"]",pattern:"["+a[r].nodeName+"="+JSON.stringify(a[r].nodeValue)+"]",selected:!0});for(var c=t.parentNode.childNodes,h=t.tagName.toLowerCase(),r=0,f=0;c.length>1&&r<c.length;r++){var p=c[r];if(p===t){h+="["+(f+1)+"]";break}p.tagName==t.tagName&&f++}i.push({tag:t.tagName.toLowerCase(),name:d(n),xpath:h,selected:!0,invalid:"tbody"===t.tagName.toLowerCase(),features:n})}while(t=t.parentElement);i.reverse();var v=e.querySelectorAll(u(i));return i.forEach(function(t,n){if(!t.invalid){var r=e.querySelectorAll(u(i,n));t.features.forEach(function(t,o){t.selected=!1,l(r,e.querySelectorAll(u(i,n)))||(t.selected=!0)}),t.features.every(function(e){return!e.selected})&&(t.features[0].selected=!0),t.name=d(t.features)}}),i.forEach(function(t,n){return t.selected=!1,l(v,e.querySelectorAll(u(i)))?void(t.name=t.tag):void(t.selected=!0)}),i}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(12),v=n(p),m=function(e){function t(e){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.window=e,i.document=e.document,i.document.addEventListener("mouseover",function(e){i.overlay(e.target)}),i.document.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),i.emit("selector_helper_click",h(i.document,e.target))}),i}return a(t,e),f(t,[{key:"overlay",value:function(e){var t=this;"string"==typeof e&&(e=this.document.querySelectorAll(e)),e instanceof this.window.Element&&(e=[e]),[].concat(r(this.document.querySelectorAll(".pyspider_overlay"))).forEach(function(e){e.remove()}),[].concat(r(e)).forEach(function(e){var i=c(e),n=t.document.createElement("div");n.className="pyspider_overlay",n.setAttribute("style","z-index: 999999;background-color: rgba(255, 165, 0, 0.3);position: absolute;pointer-events: none;top: "+i.top+"px;left:"+i.left+"px;width: "+e.offsetWidth+"px;height: "+e.offsetHeight+"px;"),t.document.body.appendChild(n)})}},{key:"heightlight",value:function(e){var t=this;"string"==typeof e&&(e=this.document.querySelectorAll(e)),console.log(e),e instanceof this.window.Element&&(e=[e]),[].concat(r(this.document.querySelectorAll(".pyspider_highlight"))).forEach(function(e){e.remove()}),[].concat(r(e)).forEach(function(e){var i=c(e),n=t.document.createElement("div");n.className="pyspider_highlight",n.setAttribute("style","z-index: 888888;border: 2px solid #c00;position: absolute;pointer-events: none;top: "+(i.top-2)+"px;left:"+(i.left-2)+"px;width: "+e.offsetWidth+"px;height: "+e.offsetHeight+"px;"),t.document.body.appendChild(n)})}},{key:"getElementByXpath",value:function(e){return this.document.evaluate(e,this.document,null,this.window.XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}}]),t}(v.default);t.default=m},function(e,t){"use strict";function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"===("undefined"==typeof e?"undefined":a(e))&&null!==e}function s(e){return void 0===e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,r,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(i=this._events[e],s(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(o(i))for(a=Array.prototype.slice.call(arguments,1),c=i.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,a);return!0},i.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,r,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,r=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(i)){for(a=s;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}}]);
//# sourceMappingURL=debug.min.js.map